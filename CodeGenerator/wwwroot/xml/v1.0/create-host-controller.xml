<?xml version="1.0" encoding="utf-8" ?>
<Main>
  <Structure file="controllername" after="Controller">
    <Line>namespace </Line>
    <Line value="@setting" get="namespaceserviceshost"></Line>
    <Line>.Controllers</Line>
    <Line value="@newline"></Line>
    <Line>{</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using </Line>
    <Line value="@setting" get="namespaceentities"></Line>
    <Line>;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using </Line>
    <Line value="@setting" get="namespaceinterfaces"></Line>
    <Line>;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using IdeasLokas.Corp.Common.Models;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using IdeasLokas.Corp.Common.Utility.Helpers;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using IdeasLokas.Corp.Common.Utility.Transfer.Request;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using IdeasLokas.Corp.Common.Utility.Transfer.Response;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using Microsoft.AspNetCore.Mvc;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using Microsoft.Extensions.Configuration;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using System;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using System.Collections.Generic;</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">using System.Net;</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="1">[Route("api/</Line>
    <Line value="controllername">")]</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">[ApiController]</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">public class </Line>
    <Line value="controllername">Controller : ControllerBase</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">private readonly Configuracion lconfig;</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">private readonly I</Line>
    <Line value="tablename">Service lservices;</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="2">public </Line>
    <Line value="controllername">Controller(IConfiguration _global, I</Line>
    <Line value="tablename">Service _services)</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">lconfig = new Configuracion(_global);</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">lservices = _services;</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[HttpPost]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[Route("Insert")]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[ProducesResponseType(typeof(Response&#60;bool&#62;), (int)HttpStatusCode.OK)]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">public IActionResult Insert(Request&#60;</Line>
    <Line value="tablename">&#62; request)</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lrespuesta = new Response&#60;bool&#62;();</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lestado = new Status();</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">try</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">if (!ModelState.IsValid)</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado.AddMessages(Tools.GetErrors(ModelState));</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">else</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lservices.Config(request.Application, request.Tracking, lconfig.ConnectionString(request.Environment));</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado = lservices.Insert(request.Parameters, out bool lrsservice);</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lrespuesta.Result = lrsservice;</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">catch (Exception ex)</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lestado.AddMessage(ex.Message);</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">finally</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lrespuesta.Status = lestado;</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">return Ok(lrespuesta);</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[HttpPost]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[Route("Update")]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[ProducesResponseType(typeof(Response&#60;bool&#62;), (int)HttpStatusCode.OK)]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">public IActionResult Update(Request&#60;</Line>
    <Line value="tablename">&#62; request)</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lrespuesta = new Response&#60;bool&#62;();</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lestado = new Status();</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">try</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">if (!ModelState.IsValid)</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado.AddMessages(Tools.GetErrors(ModelState));</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">else</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lservices.Config(request.Application, request.Tracking, lconfig.ConnectionString(request.Environment));</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado = lservices.Update(request.Parameters, out bool lrsservice);</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lrespuesta.Result = lrsservice;</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">catch (Exception ex)</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lestado.AddMessage(ex.Message);</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">finally</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lrespuesta.Status = lestado;</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">return Ok(lrespuesta);</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[HttpPost]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[Route("Delete")]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[ProducesResponseType(typeof(Response&#60;bool&#62;), (int)HttpStatusCode.OK)]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">public IActionResult Delete(Request&#60;</Line>
    <Line value="tablename">&#62; request)</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lrespuesta = new Response&#60;bool&#62;();</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lestado = new Status();</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">try</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">if (!ModelState.IsValid)</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado.AddMessages(Tools.GetErrors(ModelState));</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">else</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lservices.Config(request.Application, request.Tracking, lconfig.ConnectionString(request.Environment));</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado = lservices.Delete(request.Parameters, out bool lrsservice);</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lrespuesta.Result = lrsservice;</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">catch (Exception ex)</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lestado.AddMessage(ex.Message);</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">finally</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lrespuesta.Status = lestado;</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">return Ok(lrespuesta);</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[HttpGet]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[Route("Select")]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[ProducesResponseType(typeof(Response&#60;List&#60;</Line>
    <Line value="tablename">&#62;&#62;), (int)HttpStatusCode.OK)]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">public IActionResult Select(RequestOnly request)</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lrespuesta = new Response&#60;List&#60;</Line>
    <Line value="tablename">&#62;&#62;();</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lestado = new Status();</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">try</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">if (!ModelState.IsValid)</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado.AddMessages(Tools.GetErrors(ModelState));</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">else</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lservices.Config(request.Application, request.Tracking, lconfig.ConnectionString(request.Environment));</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado = lservices.Select(out List&#60;</Line>
    <Line value="tablename">&#62; lrsservice);</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lrespuesta.Result = lrsservice;</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">catch (Exception ex)</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lestado.AddMessage(ex.Message);</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">finally</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lrespuesta.Status = lestado;</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">return Ok(lrespuesta);</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[HttpGet]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[Route("SelectBy")]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">[ProducesResponseType(typeof(Response&#60;</Line>
    <Line value="tablename">&#62;), (int)HttpStatusCode.OK)]</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">public IActionResult SelectBy(Request&#60;</Line>
    <Line value="tablename">&#62; request)</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lrespuesta = new Response&#60;</Line>
    <Line value="tablename">&#62;();</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">var lestado = new Status();</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">try</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">if (!ModelState.IsValid)</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado.AddMessages(Tools.GetErrors(ModelState));</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">else</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lservices.Config(request.Application, request.Tracking, lconfig.ConnectionString(request.Environment));</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lestado = lservices.SelectBy(request.Parameters, out </Line>
    <Line value="tablename"> lrsservice);</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="5">lrespuesta.Result = lrsservice;</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">catch (Exception ex)</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lestado.AddMessage(ex.Message);</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">finally</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">{</Line>
    <Line value="@newline"></Line>
    <Line spaces="4">lrespuesta.Status = lestado;</Line>
    <Line value="@newline"></Line>
    <Line spaces="3">}</Line>
    <Line value="@newline"></Line>
    <Line value="@newline"></Line>
    <Line spaces="3">return Ok(lrespuesta);</Line>
    <Line value="@newline"></Line>
    <Line spaces="2">}</Line>
    <Line value="@newline"></Line>
    <Line spaces="1">}</Line>
    <Line value="@newline"></Line>
    <Line>}</Line>
  </Structure>
</Main>